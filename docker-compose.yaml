version: '3'

services: 
  app-nodejs:
    build: 
      context: node
    image: nilsonrsvieira/app-nodejs:0.1
    command: npm start
    container_name: app-nodejs
    networks: 
      - nginx-nodejs
    volumes: 
      - ./node:/usr/src/app
    tty: true
  nginx:
    restart: always
    build:
        context: nginx
    container_name: nginx
    ports:
        - "8080:80"
    networks: 
      - nginx-nodejs  
networks: 
  nginx-nodejs:
    driver: bridge      
