version: '3'

services: 
  app-nodejs:
    build: 
      context: node
    image: nilsonrsvieira/ce-app-nodejs:0.1
    command: npm start
    container_name: ce-app-nodejs
    networks: 
      - nginx-nodejs
    volumes: 
      - ./node:/usr/src/app
    tty: true
  nginx:
    restart: always
    build:
        context: ce-nginx
    image: nilsonrsvieira/ce-nginx:0.1
    container_name: ce-nginx
    ports:
        - "8080:80"
    networks: 
      - nginx-nodejs  
networks: 
  nginx-nodejs:
    driver: bridge      
